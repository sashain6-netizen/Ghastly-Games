<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div id="toast-container" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999; display: flex; flex-direction: column; gap: 10px;"></div>
    <!-- Custom Purchase Modal -->
    <div id="purchaseModal" class="modal" style="display:none; align-items: center; justify-content: center; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8);">
        <div class="modal-content" style="max-width: 400px; text-align: center; padding: 20px; border: 2px solid #bc6ff1;">
            <h2 id="purchaseTitle">Unlock Game</h2>
            <p id="purchaseMessage">Would you like to unlock this game?</p>
            <div style="display: flex; justify-content: center; gap: 15px; margin-top: 20px;">
                <button id="confirmPurchaseBtn" class="currency-container" style="background: #bc6ff1; cursor: pointer;">Confirm Purchase</button>
                <button onclick="closePurchaseModal()" class="currency-container" style="background: #444; cursor: pointer;">Cancel</button>
            </div>
        </div>
    </div>
    <div id="authWarningModal" class="modal" style="display:none; align-items: center; justify-content: center; position: fixed; z-index: 10000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9);">
        <div class="modal-content" style="max-width: 400px; text-align: center; padding: 30px; border: 2px solid #ff4444;">
            <h2 style="color: #ff4444;">Access Denied</h2>
            <p>You must be logged in to your dashboard to purchase or play games.</p>
            <div style="margin-top: 20px;">
                <button onclick="window.location.href='/'" class="currency-container" style="background: #bc6ff1; cursor: pointer;">Go to Login</button>
                <button onclick="closeAuthWarning()" class="currency-container" style="background: #444; cursor: pointer; margin-left: 10px;">Close</button>
            </div>
        </div>
    </div>
    <header>
        <div class="logo">Game<span class="highlight">Zone</span></div>
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search for games...">
        </div>

    </header>
    <button id="gbucks-container" class="currency-container">
            ðŸ’Ž G-Bucks: <span id="g-bucks">...</span>
        </button>

        <div class="level-container">
        <div class="level-text">
            Level <span id="player-level">...</span>
        </div>
        
        <div class="xp-bar-bg">
            <div id="xp-bar-fill" style="width: 0%;"></div>
            
            <div class="xp-bar-text">
                <span id="xp-ratio">0/100</span>
                <span id="xp-percent"></span>
            </div>
        </div>

        <div style="font-size: 0.8rem; margin-top: 5px; color: #aaa;">
            Next XP in: <span id="xp-timer" style="color: #bc6ff1; font-weight: bold;">...</span>
        </div>
    </div>
    <main>
        <div class="category-title">Top Picks</div>
        
        <div class="game-container" id="gameContainer">
            
            <div class="game-card" 
                data-title="Nael's Adventure" 
                data-level="1" 
                onclick="openGame('Nael\'s Adventure', 'resources/androidjump/index.html', 'nael_adv', '1', 1)">
                <div class="game-thumb" style="background-color: #3b82f6;"></div>
                <div class="level-badge"></div> <div class="game-info">
                    <h3>Nael's Adventure</h3>
                    <p>Adventure</p>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 GameZone Template. All rights reserved.</p>
    </footer>

    <div id="gameModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="header-left">
                    <h2 id="modalTitle">Game Title</h2>
                </div>
                <div class="header-right">
                    <button id="fullScreenBtn" onclick="toggleFullScreen()">&#x26F6; Full Screen</button>
                    <span class="close-btn" onclick="closeGame()">&times;</span>
                </div>
            </div>
            <div class="iframe-container" id="gameFrameContainer">
                <div class="placeholder-screen">
                    <p>Game Loaded Here</p>
                </div>
            </div>
        </div>
    </div>
    <div id="adPopup" class="ad-popup">
        <span class="ad-close-btn" onclick="closeAd()">&times;</span>
        <img id="adImage" src="" alt="Advertisement">
    </div>
    <script src="script.js"></script>
</body>
</html>